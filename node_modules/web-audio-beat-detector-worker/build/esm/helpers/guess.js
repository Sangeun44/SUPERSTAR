import { computeTempoBuckets } from './compute-tempo-buckets';
export var guess = function (channelData, sampleRate) {
    var tempoBuckets = computeTempoBuckets(channelData, sampleRate);
    if (tempoBuckets.length === 0) {
        throw new Error('The given channelData does not contain any detectable beats.');
    }
    var _a = tempoBuckets[0], peaks = _a.peaks, tempo = _a.tempo;
    var bpm = Math.round(tempo);
    var secondsPerBeat = 60 / bpm;
    peaks.sort(function (a, b) { return a - b; });
    var offset = (peaks[0] / sampleRate);
    while (offset > secondsPerBeat) {
        offset -= secondsPerBeat;
    }
    return {
        bpm: bpm,
        offset: offset
    };
};
//# sourceMappingURL=/build/es2015/helpers/guess.js.map